@model OnlineShoping.Models.CategoryModel
<form method="post" id="frm1" enctype="multipart/form-data">
    @Html.HiddenFor(a => a.CatogaryId)
    <div class="mb-3">
        <label class="form-label">Name <span class="text-danger" id="CatName"></span></label>
        @Html.TextBoxFor(a => a.Name, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        <label class="form-label">Discription <span class="text-danger" id="CatDiscription"></span></label>
        @Html.TextAreaFor(a => a.Discription, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        <label class="form-label">Image <span class="text-danger" id="CatImage"></span></label>
        @Html.TextBoxFor(a => a.Imagefilee, new { @class = "form-control", type = "file" })
    </div>
    <div class="mb-3">
        <label class="form-label">Status <span class="text-danger" id="CatStatus"></span></label>
        @Html.DropDownListFor(a => a.Status, new List<SelectListItem>
{
       new SelectListItem{Text="Active" , Value="1"},
       new SelectListItem{Text="In-Active" , Value="0"} }, "Category Status", new { @class = "form-control" })

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary" id="addEditConfirmButton">Add</button>
    </div>
</form>
<script>
    $(document).ready(function () {
        Save();
        TableShow();
        discription();

    });
    function Save() {
        debugger;
        $('#frm1').submit(function (event) {
            event.preventDefault();
            var formdata = new FormData(document.getElementById('frm1'));
           
                $.ajax
                    ({
                        type: 'Post',
                        url: '/Category/Categorysave',
                        processData: false,
                        contentType: false,
                        data: formdata,
                        success: function (result) {
                            if (result != null) {
                                toastr.success("Data has been successfully Saved");
                                TableShow();
                            }
                        }
                    })
            
           
        })
    }


    function validation() {
        debugger;
        $('#frm1 input').each(function () {
            debugger;
            var value = $(this).val();
            var id = $(this).attr("id");
            if (value == "") {
                $("#Cat" + id).text('Required');
            }
            else {
                $("#Cat" + id).text('');
            }
        });

    }

    function TableShow() {
        $.ajax
            ({
                type: 'Get',
                url: '/Category/CategoryShow',
                success: function (res) {
                    $('#Tableshow').html(res)
                }
            })
    }
    function discription(Id) {

        $.ajax
            ({
                type: 'Post',
                url: '/Category/DiscriptionModal',
                data: {
                    Id: Id
                },
                success: function (res) {
                    $('#list').html(res);
                    $('#overlayScrollLong').modal('show');
                }
            })
    }
    function Delete(Id) {

        $.ajax
            ({
                type: 'Post',
                url: '/Category/Delete',
                data: {
                    Id: Id
                },
                success: function (res) {
                    alert("Do you want to delete this data permently");
                    toastr.error("Data has been Successfully Deleted");

                    TableShow();
                }

            })
    }
    </script>
